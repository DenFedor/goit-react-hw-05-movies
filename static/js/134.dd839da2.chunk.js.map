{"version":3,"file":"static/js/134.dd839da2.chunk.js","mappings":"4SACOA,EAAS,gCACFC,EAAa,iDACpBC,EAAQ,4CAEDC,EAAgB,WAC1B,OAAOC,EAAAA,EAAAA,IAAA,UAAaJ,EAAb,+BAA4CE,GACrD,EACYG,EAAmB,SAACC,GAC9B,OAAOF,EAAAA,EAAAA,IAAA,UAAaJ,EAAb,uBAAoCE,EAApC,kBAAqDI,GAC9D,EACYC,EAAoB,SAACC,GAC/B,OAAOJ,EAAAA,EAAAA,IAAA,UAAaJ,EAAb,iBAA8BQ,GAA9B,OAAmCN,GAC5C,EACYO,EAAmB,SAACD,GAC9B,OAAOJ,EAAAA,EAAAA,IAAA,UAAaJ,EAAb,iBAA8BQ,EAA9B,mBAA2CN,GACpD,EACYQ,EAAgB,SAACF,GAC3B,OAAOJ,EAAAA,EAAAA,IAAA,UAAaJ,EAAb,iBAA8BQ,EAA9B,mBAA2CN,GACpD,C,6ICVWS,EAAS,WACpB,OAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACMX,EAAQO,EAAaK,IAAI,SAC/B,GAA4BH,EAAAA,EAAAA,UAAS,QAArC,eAAOI,EAAP,KAAeC,EAAf,KACMC,GAAWC,EAAAA,EAAAA,OACjBC,EAAAA,EAAAA,YAAU,WACM,KAAVjB,GAAyB,MAATA,IAGpBc,EAAU,YACVf,EAAAA,EAAAA,IAAiBC,GACdkB,MAAK,YAAe,IAAZC,EAAW,EAAXA,KACPR,EAAUQ,EAAKC,SACfN,EAAU,YACX,IACAO,OAAM,SAAAC,GACLR,EAAU,SACVS,QAAQC,IAAIF,EACb,IACAG,SAAQ,WAAQ,IACpB,GAAE,CAACzB,IAeJ,MAAe,UAAXa,GACK,oDAGP,iCACE,kBAAMa,KAAK,SAASC,SAlBH,SAAAC,GACnBA,EAAEC,iBACF,IAAMC,EAAOF,EAAEG,cAGTC,EAFYF,EAAKG,SAASC,MAAMC,MAGnCC,MAAM,KACNC,QAAO,SAAAT,GAAC,OAAIA,CAAJ,IACRU,KAAK,KACR9B,EAAgB,CAAER,MAAOgC,IACzBF,EAAKS,OACN,EAOG,WACE,kBACEC,KAAK,QACLd,KAAK,OACLe,aAAa,MACbC,WAAS,EACTC,YAAY,gBACZC,UAAQ,KAEV,2CAIA,8BACE,wBACGlC,EAAOmC,KAAI,YAAkD,IAAD,EAA9C3C,EAA8C,EAA9CA,GAAI4C,EAA0C,EAA1CA,MAAOC,EAAmC,EAAnCA,eAAgBC,EAAmB,EAAnBA,aACxC,OACE,yBACE,UAAC,KAAD,CACEC,IAAIC,EAAAA,EAAAA,IAAaC,EAAAA,EAAAA,GAAe,CAAEjD,GAAIA,IACtCkD,MAAO,CAAEC,KAAMtC,GAFjB,iBAIG+B,QAJH,IAIGA,EAAAA,EAASC,EAJZ,eAI8BC,EAAaM,MAAM,EAAG,UAJpD,QAI0D,GAJ1D,QADOpD,EASZ,UAMZ,EACD,W","sources":["api/getApi.js","pages/Movies.jsx"],"sourcesContent":[" import axios from \"axios\";\n const BASE_URL=\"https://api.themoviedb.org/3/\";\n export const BASE_IMG_URL=\"https://image.tmdb.org/t/p/w220_and_h330_face/\";\n const API_KEY=\"?api_key=68bc8f2587d307cdd95fbf9f8320ddc0\";\n\n export const fetchTrending = () =>{\n    return axios.get(`${BASE_URL}/trending/movie/week${API_KEY}`)\n };\n export const fetchMovieByName = (query) =>{\n    return axios.get(`${BASE_URL}search/movie${API_KEY}&query=${query}`)\n }\n export const fetchDetailedById = (id) =>{\n    return axios.get(`${BASE_URL}movie/${id}${API_KEY}`)\n }\n export const fetchReviewsById = (id) =>{\n    return axios.get(`${BASE_URL}movie/${id}/reviews${API_KEY}`)\n }\n export const fetchCastById = (id) =>{\n    return axios.get(`${BASE_URL}movie/${id}/credits${API_KEY}`)\n }","import {\n  useSearchParams,\n  Link,\n  generatePath,\n  useLocation,\n} from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport { fetchMovieByName } from 'api/getApi';\nimport { PAGE_NAMES } from 'router/paths';\nexport const Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [movies, setMovies] = useState([]);\n  const query = searchParams.get('query');\n  const [status, setStatus] = useState('idle');\n  const location = useLocation();\n  useEffect(() => {\n    if (query === '' || query == null) {\n      return;\n    }\n    setStatus('loading');\n    fetchMovieByName(query)\n      .then(({ data }) => {\n        setMovies(data.results);\n        setStatus('fulfilled');\n      })\n      .catch(error => {\n        setStatus('error');\n        console.log(error);\n      })\n      .finally(() => {});\n  }, [query]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const form = e.currentTarget;\n    const userQuery = form.elements.input.value;\n    // Delete extra spaces from user query.\n    const formatedQuery = userQuery\n      .split(' ')\n      .filter(e => e)\n      .join(' ');\n    setSearchParams({ query: formatedQuery });\n    form.reset();\n  };\n\n  if (status === 'error') {\n    return <>Occured an error</>;\n  }\n  return (\n    <>\n      <form type=\"submit\" onSubmit={handleSubmit}>\n        <input\n          name=\"input\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movies\"\n          required\n        />\n        <button>Search</button>\n      </form>\n\n      {\n        <section>\n          <ul>\n            {movies.map(({ id, title, original_title, release_date }) => {\n              return (\n                <li key={id}>\n                  <Link\n                    to={generatePath(PAGE_NAMES.id, { id: id })}\n                    state={{ from: location }}\n                  >\n                    {title ?? original_title} ({release_date.slice(0, 4) ?? ''})\n                  </Link>\n                </li>\n              );\n            })}\n          </ul>\n        </section>\n      }\n    </>\n  );\n};\nexport default Movies;\n"],"names":["BASE_URL","BASE_IMG_URL","API_KEY","fetchTrending","axios","fetchMovieByName","query","fetchDetailedById","id","fetchReviewsById","fetchCastById","Movies","useSearchParams","searchParams","setSearchParams","useState","movies","setMovies","get","status","setStatus","location","useLocation","useEffect","then","data","results","catch","error","console","log","finally","type","onSubmit","e","preventDefault","form","currentTarget","formatedQuery","elements","input","value","split","filter","join","reset","name","autoComplete","autoFocus","placeholder","required","map","title","original_title","release_date","to","generatePath","PAGE_NAMES","state","from","slice"],"sourceRoot":""}