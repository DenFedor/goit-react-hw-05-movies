"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[134],{915:function(t,e,n){n.d(e,{E3:function(){return a},IV:function(){return s},Tg:function(){return u},YQ:function(){return o},fg:function(){return l},wH:function(){return f}});var r=n(243),c="https://api.themoviedb.org/3/",o="https://image.tmdb.org/t/p/w500",i="?api_key=68bc8f2587d307cdd95fbf9f8320ddc0",u=function(){return r.Z.get("".concat(c,"/trending/movie/week").concat(i))},a=function(t){return r.Z.get("".concat(c,"search/movie").concat(i,"&query=").concat(t))},l=function(t){return r.Z.get("".concat(c,"movie/").concat(t).concat(i))},f=function(t){return r.Z.get("".concat(c,"movie/").concat(t,"/reviews").concat(i))},s=function(t){return r.Z.get("".concat(c,"movie/").concat(t,"/credits").concat(i))}},134:function(t,e,n){n.r(e),n.d(e,{Movies:function(){return f}});var r=n(439),c=n(87),o=n(989),i=n(791),u=n(915),a=n(277),l=n(184),f=function(){var t=(0,c.lr)(),e=(0,r.Z)(t,2),n=e[0],f=e[1],s=(0,i.useState)([]),d=(0,r.Z)(s,2),h=d[0],m=d[1],p=n.get("query"),g=(0,i.useState)("idle"),v=(0,r.Z)(g,2),j=v[0],x=v[1];(0,i.useEffect)((function(){console.log(p),""!==p&&null!=p&&(x("loading"),(0,u.E3)(p).then((function(t){var e=t.data;m(e.results),x("fulfilled")})).catch((function(t){x("error"),console.log(t)})).finally((function(){})))}),[p]);return"error"===j?(0,l.jsx)(l.Fragment,{children:"Occured an error"}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("form",{type:"submit",onSubmit:function(t){t.preventDefault();var e=t.currentTarget,n=e.elements.input.value.split(" ").filter((function(t){return t})).join(" ");f({query:n}),e.reset()},children:[(0,l.jsx)("input",{name:"input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",required:!0}),(0,l.jsx)("button",{children:"Search"})]}),(0,l.jsx)("section",{children:(0,l.jsx)("ul",{children:h.map((function(t){var e=t.id,n=t.title,r=t.original_title;return(0,l.jsx)("li",{children:(0,l.jsx)(c.rU,{to:(0,o.Gn)(a.a.id,{id:e}),children:null!==n&&void 0!==n?n:r})},e)}))})})]})};e.default=f}}]);
//# sourceMappingURL=134.69974b0c.chunk.js.map