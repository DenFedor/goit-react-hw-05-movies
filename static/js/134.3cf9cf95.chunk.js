"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[134],{915:function(t,e,n){n.d(e,{E3:function(){return a},IV:function(){return s},Tg:function(){return u},YQ:function(){return o},fg:function(){return f},wH:function(){return l}});var r=n(243),c="https://api.themoviedb.org/3/",o="https://image.tmdb.org/t/p/w220_and_h330_face/",i="?api_key=68bc8f2587d307cdd95fbf9f8320ddc0",u=function(){return r.Z.get("".concat(c,"/trending/movie/week").concat(i))},a=function(t){return r.Z.get("".concat(c,"search/movie").concat(i,"&query=").concat(t))},f=function(t){return r.Z.get("".concat(c,"movie/").concat(t).concat(i))},l=function(t){return r.Z.get("".concat(c,"movie/").concat(t,"/reviews").concat(i))},s=function(t){return r.Z.get("".concat(c,"movie/").concat(t,"/credits").concat(i))}},134:function(t,e,n){n.r(e),n.d(e,{Movies:function(){return s}});var r=n(439),c=n(87),o=n(689),i=n(989),u=n(791),a=n(915),f=n(277),l=n(184),s=function(){var t=(0,c.lr)(),e=(0,r.Z)(t,2),n=e[0],s=e[1],d=(0,u.useState)([]),h=(0,r.Z)(d,2),m=h[0],p=h[1],g=n.get("query"),v=(0,u.useState)("idle"),j=(0,r.Z)(v,2),x=j[0],b=j[1],_=(0,o.TH)();(0,u.useEffect)((function(){""!==g&&null!=g&&(b("loading"),(0,a.E3)(g).then((function(t){var e=t.data;p(e.results),b("fulfilled")})).catch((function(t){b("error"),console.log(t)})).finally((function(){})))}),[g]);return"error"===x?(0,l.jsx)(l.Fragment,{children:"Occured an error"}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("form",{type:"submit",onSubmit:function(t){t.preventDefault();var e=t.currentTarget,n=e.elements.input.value.split(" ").filter((function(t){return t})).join(" ");s({query:n}),e.reset()},children:[(0,l.jsx)("input",{name:"input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",required:!0}),(0,l.jsx)("button",{children:"Search"})]}),(0,l.jsx)("section",{children:(0,l.jsx)("ul",{children:m.map((function(t){var e=t.id,n=t.title,r=t.original_title;return(0,l.jsx)("li",{children:(0,l.jsx)(c.rU,{to:(0,i.Gn)(f.a.id,{id:e}),state:{from:_},children:null!==n&&void 0!==n?n:r})},e)}))})})]})};e.default=s}}]);
//# sourceMappingURL=134.3cf9cf95.chunk.js.map