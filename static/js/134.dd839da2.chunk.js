"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[134],{915:function(t,e,n){n.d(e,{E3:function(){return a},IV:function(){return s},Tg:function(){return u},YQ:function(){return o},fg:function(){return l},wH:function(){return f}});var r=n(243),c="https://api.themoviedb.org/3/",o="https://image.tmdb.org/t/p/w220_and_h330_face/",i="?api_key=68bc8f2587d307cdd95fbf9f8320ddc0",u=function(){return r.Z.get("".concat(c,"/trending/movie/week").concat(i))},a=function(t){return r.Z.get("".concat(c,"search/movie").concat(i,"&query=").concat(t))},l=function(t){return r.Z.get("".concat(c,"movie/").concat(t).concat(i))},f=function(t){return r.Z.get("".concat(c,"movie/").concat(t,"/reviews").concat(i))},s=function(t){return r.Z.get("".concat(c,"movie/").concat(t,"/credits").concat(i))}},134:function(t,e,n){n.r(e),n.d(e,{Movies:function(){return s}});var r=n(439),c=n(87),o=n(689),i=n(989),u=n(791),a=n(915),l=n(277),f=n(184),s=function(){var t=(0,c.lr)(),e=(0,r.Z)(t,2),n=e[0],s=e[1],d=(0,u.useState)([]),h=(0,r.Z)(d,2),m=h[0],p=h[1],v=n.get("query"),g=(0,u.useState)("idle"),j=(0,r.Z)(g,2),x=j[0],_=j[1],b=(0,o.TH)();(0,u.useEffect)((function(){""!==v&&null!=v&&(_("loading"),(0,a.E3)(v).then((function(t){var e=t.data;p(e.results),_("fulfilled")})).catch((function(t){_("error"),console.log(t)})).finally((function(){})))}),[v]);return"error"===x?(0,f.jsx)(f.Fragment,{children:"Occured an error"}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("form",{type:"submit",onSubmit:function(t){t.preventDefault();var e=t.currentTarget,n=e.elements.input.value.split(" ").filter((function(t){return t})).join(" ");s({query:n}),e.reset()},children:[(0,f.jsx)("input",{name:"input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",required:!0}),(0,f.jsx)("button",{children:"Search"})]}),(0,f.jsx)("section",{children:(0,f.jsx)("ul",{children:m.map((function(t){var e,n=t.id,r=t.title,o=t.original_title,u=t.release_date;return(0,f.jsx)("li",{children:(0,f.jsxs)(c.rU,{to:(0,i.Gn)(l.a.id,{id:n}),state:{from:b},children:[null!==r&&void 0!==r?r:o," (",null!==(e=u.slice(0,4))&&void 0!==e?e:"",")"]})},n)}))})})]})};e.default=s}}]);
//# sourceMappingURL=134.dd839da2.chunk.js.map